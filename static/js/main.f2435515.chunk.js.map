{"version":3,"sources":["utils/fetchData.js","utils/dateHelper.js","components/UserCard.js","components/UserContainer.js","components/FilterContainer.js","App.js","index.js"],"names":["defalutUrl","fetchRandomUserData","localStorageGender","localStorageNationality","gender","nationality","axios","get","then","response","data","results","catch","error","console","log","UserCard","date","name","email","dob","picture","nat","className","src","large","alt","first","last","Date","toLocaleDateString","year","month","day","replace","localStorage","getItem","UserContainer","map","person","nationalities","FilterContainer","setUserData","useContext","Context","selectedGender","inputGender","useRef","inputNation","htmlFor","ref","defaultValue","value","multiple","size","split","type","onClick","e","preventDefault","selectedNationsValues","current","options","filter","opt","selected","option","setItem","join","createContext","App","useState","userData","useEffect","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f2435515.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst url = 'https://randomuser.me/api/';\r\nconst defalutUrl = `${url}?results=15&inc=gender,name,nat,dob,picture,email`;\r\n\r\nexport default function fetchRandomUserData(\r\n  localStorageGender,\r\n  localStorageNationality\r\n) {\r\n  let gender = '';\r\n  let nationality = '';\r\n\r\n  if (localStorageGender) {\r\n    gender = `&gender=${localStorageGender}`;\r\n  }\r\n  if (localStorageNationality) {\r\n    nationality = `&nat=${localStorageNationality}`;\r\n  }\r\n\r\n  return axios\r\n    .get(`${defalutUrl}${gender}${nationality}`)\r\n    .then((response) => {\r\n      return response.data.results;\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n}\r\n","export const formattedDate = (date) => {\r\n  const dateObj = new Date(date);\r\n  return dateObj\r\n    .toLocaleDateString('en-GB', {\r\n      year: 'numeric',\r\n      month: '2-digit',\r\n      day: '2-digit'\r\n    })\r\n    .replace(/\\//g, '-');\r\n};\r\n","import React from 'react';\r\nimport { formattedDate } from '../utils/dateHelper';\r\n\r\nexport default function UserCard({ data }) {\r\n  const { gender, name, email, dob, picture, nat } = data;\r\n\r\n  return (\r\n    <div className=\"gridItem\">\r\n      <img src={picture.large} alt=\"userPic\" />\r\n      <p>{`${name.first} ${name.last}`}</p>\r\n      <p>{gender}</p>\r\n      <p>{email}</p>\r\n      <p>{formattedDate(dob.date)}</p>\r\n      {localStorage.getItem('nationality') && <p>{nat}</p>}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport UserCard from './UserCard';\r\n\r\nexport default function UserContainer({ data }) {\r\n  return (\r\n    <div className=\"gridContainer\">\r\n      {data.map((person) => {\r\n        return <UserCard key={person.email} data={person} />;\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useRef, useContext } from 'react';\r\nimport { Context } from '../App';\r\nimport fetchRandomUserData from '../utils/fetchData';\r\n\r\nconst nationalities = [\r\n  'AU',\r\n  'BR',\r\n  'CA',\r\n  'CH',\r\n  'DE',\r\n  'DK',\r\n  'ES',\r\n  'FI',\r\n  'FR',\r\n  'GB',\r\n  'IE',\r\n  'IR',\r\n  'NO',\r\n  'NL',\r\n  'NZ',\r\n  'TR',\r\n  'US'\r\n];\r\n\r\nexport default function FilterContainer() {\r\n  const setUserData = useContext(Context);\r\n\r\n  const selectedGender = localStorage.getItem('gender');\r\n\r\n  const inputGender = useRef(null);\r\n  const inputNation = useRef(null);\r\n\r\n  function handleChange(e) {\r\n    e.preventDefault();\r\n    const selectedNationsOptions = [...inputNation.current.options].filter(\r\n      (opt) => opt.selected\r\n    );\r\n    const selectedNationsValues = selectedNationsOptions.map(\r\n      (option) => option.value\r\n    );\r\n\r\n    localStorage.setItem('gender', inputGender.current.value);\r\n    localStorage.setItem('nationality', selectedNationsValues.join(','));\r\n\r\n    fetchRandomUserData(\r\n      inputGender.current.value,\r\n      selectedNationsValues.join(',')\r\n    ).then((data) => {\r\n      setUserData(data);\r\n    });\r\n  }\r\n  return (\r\n    <fieldset className=\"formContainer\">\r\n      <legend>Filter options</legend>\r\n      <label htmlFor=\"gender\">Gender</label>\r\n      <select ref={inputGender} defaultValue={selectedGender}>\r\n        <option value=\"all\">all</option>\r\n        <option value=\"male\">male</option>\r\n        <option value=\"female\">female</option>\r\n      </select>\r\n      <label htmlFor=\"nationality\">Nationality</label>\r\n      <select\r\n        name=\"nationality\"\r\n        multiple=\"multiple\"\r\n        size=\"5\"\r\n        defaultValue={localStorage.getItem('nationality')?.split(',')}\r\n        ref={inputNation}\r\n      >\r\n        {nationalities.map((nationality) => {\r\n          return (\r\n            <option value={nationality} key={nationality}>\r\n              {nationality}\r\n            </option>\r\n          );\r\n        })}\r\n      </select>\r\n      <input type=\"submit\" value=\"Submit\" onClick={handleChange} />\r\n    </fieldset>\r\n  );\r\n}\r\n","import { useState, useEffect, createContext } from 'react';\nimport fetchRandomUserData from './utils/fetchData';\nimport UserContainer from './components/UserContainer';\nimport FilterContainer from './components/FilterContainer';\nimport './styles/App.css';\n\nexport const Context = createContext();\n\nfunction App() {\n  const [userData, setUserData] = useState([]);\n\n  useEffect(() => {\n    const localStorageGender = localStorage.getItem('gender');\n    const localStorageNationality = localStorage.getItem('nationality');\n    fetchRandomUserData(localStorageGender, localStorageNationality).then(\n      (data) => {\n        setUserData(data);\n      }\n    );\n  }, []);\n\n  return (\n    <Context.Provider value={setUserData}>\n      <div className=\"App\">\n        <FilterContainer />\n        <UserContainer data={userData} />\n      </div>\n    </Context.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}